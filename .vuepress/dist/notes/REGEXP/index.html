<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>正则表达式 | 智宇星空</title>
    <meta name="description" content="前端学习资料">
    <link rel="icon" href="favicon.ico">
    
    <link rel="preload" href="/yjm.github.io/assets/css/0.styles.acbb5370.css" as="style"><link rel="preload" href="/yjm.github.io/assets/js/app.16d43aae.js" as="script"><link rel="preload" href="/yjm.github.io/assets/js/2.dc0e93a8.js" as="script"><link rel="preload" href="/yjm.github.io/assets/js/27.b18b740d.js" as="script"><link rel="prefetch" href="/yjm.github.io/assets/js/10.beb399c5.js"><link rel="prefetch" href="/yjm.github.io/assets/js/11.ca77d212.js"><link rel="prefetch" href="/yjm.github.io/assets/js/12.45689107.js"><link rel="prefetch" href="/yjm.github.io/assets/js/13.aa1b3fbe.js"><link rel="prefetch" href="/yjm.github.io/assets/js/14.8a0e7fde.js"><link rel="prefetch" href="/yjm.github.io/assets/js/15.3633e7a9.js"><link rel="prefetch" href="/yjm.github.io/assets/js/16.b3294066.js"><link rel="prefetch" href="/yjm.github.io/assets/js/17.dc0284b9.js"><link rel="prefetch" href="/yjm.github.io/assets/js/18.cbdb9d59.js"><link rel="prefetch" href="/yjm.github.io/assets/js/19.5251db80.js"><link rel="prefetch" href="/yjm.github.io/assets/js/20.12bad232.js"><link rel="prefetch" href="/yjm.github.io/assets/js/21.09047114.js"><link rel="prefetch" href="/yjm.github.io/assets/js/22.fb0bb1fc.js"><link rel="prefetch" href="/yjm.github.io/assets/js/23.befdb5d2.js"><link rel="prefetch" href="/yjm.github.io/assets/js/24.acbdd388.js"><link rel="prefetch" href="/yjm.github.io/assets/js/25.dd404484.js"><link rel="prefetch" href="/yjm.github.io/assets/js/26.bfe88547.js"><link rel="prefetch" href="/yjm.github.io/assets/js/28.4e88ab0e.js"><link rel="prefetch" href="/yjm.github.io/assets/js/29.e282f883.js"><link rel="prefetch" href="/yjm.github.io/assets/js/3.ba283e77.js"><link rel="prefetch" href="/yjm.github.io/assets/js/30.d6ff8809.js"><link rel="prefetch" href="/yjm.github.io/assets/js/31.2637266c.js"><link rel="prefetch" href="/yjm.github.io/assets/js/32.557aaf69.js"><link rel="prefetch" href="/yjm.github.io/assets/js/33.88f4e582.js"><link rel="prefetch" href="/yjm.github.io/assets/js/34.dae3780d.js"><link rel="prefetch" href="/yjm.github.io/assets/js/35.6b9506b5.js"><link rel="prefetch" href="/yjm.github.io/assets/js/36.858c4d62.js"><link rel="prefetch" href="/yjm.github.io/assets/js/37.f8d863af.js"><link rel="prefetch" href="/yjm.github.io/assets/js/38.a6cd0274.js"><link rel="prefetch" href="/yjm.github.io/assets/js/39.ddf074bc.js"><link rel="prefetch" href="/yjm.github.io/assets/js/4.5942c30c.js"><link rel="prefetch" href="/yjm.github.io/assets/js/40.04216fe1.js"><link rel="prefetch" href="/yjm.github.io/assets/js/41.8ef5b19c.js"><link rel="prefetch" href="/yjm.github.io/assets/js/42.99d6c4a5.js"><link rel="prefetch" href="/yjm.github.io/assets/js/43.6af8c75b.js"><link rel="prefetch" href="/yjm.github.io/assets/js/5.4c6ec876.js"><link rel="prefetch" href="/yjm.github.io/assets/js/6.82ba9ee8.js"><link rel="prefetch" href="/yjm.github.io/assets/js/7.d5846097.js"><link rel="prefetch" href="/yjm.github.io/assets/js/8.21d2d8cf.js"><link rel="prefetch" href="/yjm.github.io/assets/js/9.0c75ee61.js">
    <link rel="stylesheet" href="/yjm.github.io/assets/css/0.styles.acbb5370.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/yjm.github.io/" class="home-link router-link-active"><!----> <span class="site-name">智宇星空</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/yjm.github.io/notes/VUE/" class="nav-link">前端笔记</a></div><div class="nav-item"><a href="/yjm.github.io/doc/" class="nav-link">资源导航</a></div><div class="nav-item"><a href="https://github.com/Jameel01" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/yjm.github.io/notes/VUE/" class="nav-link">前端笔记</a></div><div class="nav-item"><a href="/yjm.github.io/doc/" class="nav-link">资源导航</a></div><div class="nav-item"><a href="https://github.com/Jameel01" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>vue</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/yjm.github.io/notes/VUE/" class="sidebar-link">vue 开发笔记</a></li><li><a href="/yjm.github.io/notes/VUE/optimize.html" class="sidebar-link">性能优化</a></li><li><a href="/yjm.github.io/notes/VUE/vuecli.html" class="sidebar-link">Vue-CLI</a></li><li><a href="/yjm.github.io/notes/VUE/VUEX/" class="sidebar-link">vuex</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>React</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/yjm.github.io/notes/REACT/" class="sidebar-link">React 开发笔记</a></li><li><a href="/yjm.github.io/notes/REACT/render.html" class="sidebar-link">React 渲染</a></li><li><a href="/yjm.github.io/notes/REACT/ReactApi.html" class="sidebar-link">React api</a></li><li><a href="/yjm.github.io/notes/REACT/Redux.html" class="sidebar-link">Redux</a></li><li><a href="/yjm.github.io/notes/REACT/Taro.html" class="sidebar-link">taro组件构子</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>JS</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/yjm.github.io/notes/JS/" class="sidebar-link">JS笔记</a></li><li><a href="/yjm.github.io/notes/JS/JavaScript-1.html" class="sidebar-link">JavaScript原理</a></li><li><a href="/yjm.github.io/notes/JS/es6.html" class="sidebar-link">ES6 语法</a></li><li><a href="/yjm.github.io/notes/JS/es5.html" class="sidebar-link">ES5</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>TypeScript 常用语法</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/yjm.github.io/notes/typescript/type.html" class="sidebar-link">基础类型</a></li><li><a href="/yjm.github.io/notes/typescript/declare.html" class="sidebar-link">变量声明</a></li><li><a href="/yjm.github.io/notes/typescript/interface.html" class="sidebar-link">接口</a></li><li><a href="/yjm.github.io/notes/typescript/class.html" class="sidebar-link">类</a></li><li><a href="/yjm.github.io/notes/typescript/function.html" class="sidebar-link">函数</a></li><li><a href="/yjm.github.io/notes/typescript/generic.html" class="sidebar-link">泛型</a></li><li><a href="/yjm.github.io/notes/typescript/inference.html" class="sidebar-link">类型推断</a></li><li><a href="/yjm.github.io/notes/typescript/advance.html" class="sidebar-link">高级类型</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>DOM</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/yjm.github.io/notes/DOM/" class="sidebar-link">DOM</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>CSS</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/yjm.github.io/notes/CSS/" class="sidebar-link">CSS开发笔记</a></li><li><a href="/yjm.github.io/notes/CSS/shapes/" class="sidebar-link">/notes/CSS/shapes/</a></li><li><a href="/yjm.github.io/notes/CSS/sass.html" class="sidebar-link">Dart-Sass</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>webpack</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/yjm.github.io/notes/WEBPACK/" class="sidebar-link">webpack 性能优化</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>IOS问题库</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/yjm.github.io/notes/IOS/" class="sidebar-link">ios 问题库</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>浏览器</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/yjm.github.io/notes/window/" class="sidebar-link">Event Loop</a></li><li><a href="/yjm.github.io/notes/window/HTTP/" class="sidebar-link">HTTP协议</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>RegExp</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/yjm.github.io/notes/REGEXP/" class="active sidebar-link">正则表达式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/yjm.github.io/notes/REGEXP/#允许多位数-15-17-18-20位，字母-数字" class="sidebar-link">允许多位数 15|17|18|20位，字母+数字</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>git</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/yjm.github.io/notes/GIT/" class="sidebar-link">git 三种工作流程</a></li><li><a href="/yjm.github.io/notes/GIT/gitflow.html" class="sidebar-link">git-flow 的工作流程</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>其他</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/yjm.github.io/notes/OTHER/" class="sidebar-link">其他</a></li><li><a href="/yjm.github.io/notes/OTHER/NPM.html" class="sidebar-link">verdaccio 私有npm仓库搭建</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="正则表达式"><a href="#正则表达式" aria-hidden="true" class="header-anchor">#</a> 正则表达式</h1> <p>正则表达式经常被用于字段或任意字符串的校验，如下面这段校验基本日期格式的JavaScript代码：</p> <pre class="hljs javascript"><code class="javascript"><span class="hljs-keyword">var</span> reg = <span class="hljs-regexp">/^(\\d{1,4})(-|\\/</span>)(\\d{<span class="hljs-number">1</span>,<span class="hljs-number">2</span>})\\<span class="hljs-number">2</span>(\\d{<span class="hljs-number">1</span>,<span class="hljs-number">2</span>})$/; 
<span class="hljs-keyword">var</span> r = fieldValue.match(reg);             
<span class="hljs-keyword">if</span>(r==<span class="hljs-literal">null</span>)alert(<span class="hljs-string">'Date format error!'</span>);           
</code></pre> <p>下面是<strong>技匠</strong>整理的，在前端开发中经常使用到的<strong>20</strong>个正则表达式。</p> <hr> <h4><strong>1 . 校验密码强度</strong></h4> <p>密码的强度必须是包含大小写字母和数字的组合，不能使用特殊字符，长度在8-10之间。</p> <pre class="hljs ruby"><code class="ruby">^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{<span class="hljs-number">8</span>,<span class="hljs-number">10</span>}$
</code></pre> <h4><strong>2. 校验中文</strong></h4> <p>字符串仅能是中文。</p> <pre class="hljs ruby"><code class="ruby">^[\\u4e0<span class="hljs-number">0</span>-\\u9fa5]{<span class="hljs-number">0</span>,}$
</code></pre> <h4><strong>3. 由数字、26个英文字母或下划线组成的字符串</strong></h4> <pre class="hljs ruby"><code class="ruby">^\\w+$
</code></pre> <h4><strong>4. 校验E-Mail 地址</strong></h4> <p>同密码一样，下面是E-mail地址合规性的正则检查语句。</p> <pre class="hljs bash"><code class="bash">[\\w!<span class="hljs-comment">#$%&amp;'*+/=?^_`{|}~-]+(?:\\.[\\w!#$%&amp;'*+/=?^_`{|}~-]+)*@(?:[\\w](?:[\\w-]*[\\w])?\\.)+[\\w](?:[\\w-]*[\\w])?</span>
</code></pre> <h4><strong>5. 校验身份证号码</strong></h4> <p>下面是身份证号码的正则校验。15 或 18位。</p> <p>15位：</p> <pre class="hljs ruby"><code class="ruby">^[<span class="hljs-number">1</span>-<span class="hljs-number">9</span>]\\d{<span class="hljs-number">7</span>}((<span class="hljs-number">0</span>\\d)<span class="hljs-params">|(1[0-2]))(([0|</span><span class="hljs-number">1</span><span class="hljs-params">|2]\\d)|</span><span class="hljs-number">3</span>[<span class="hljs-number">0</span>-<span class="hljs-number">1</span>])\\d{<span class="hljs-number">3</span>}$
</code></pre> <p>18位：</p> <pre class="hljs ruby"><code class="ruby">^[<span class="hljs-number">1</span>-<span class="hljs-number">9</span>]\\d{<span class="hljs-number">5</span>}[<span class="hljs-number">1</span>-<span class="hljs-number">9</span>]\\d{<span class="hljs-number">3</span>}((<span class="hljs-number">0</span>\\d)<span class="hljs-params">|(1[0-2]))(([0|</span><span class="hljs-number">1</span><span class="hljs-params">|2]\\d)|</span><span class="hljs-number">3</span>[<span class="hljs-number">0</span>-<span class="hljs-number">1</span>])\\d{<span class="hljs-number">3</span>}([<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]<span class="hljs-params">|X)$
</span></code></pre> <h4><strong>6. 校验日期</strong></h4> <p>“yyyy-mm-dd“ 格式的日期校验，已考虑平闰年。</p> <pre class="hljs ruby"><code class="ruby">^(?<span class="hljs-symbol">:</span>(?!<span class="hljs-number">0000</span>)[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]{<span class="hljs-number">4</span>}-(?<span class="hljs-symbol">:</span>(?:<span class="hljs-number">0</span>[<span class="hljs-number">1</span>-<span class="hljs-number">9</span>]<span class="hljs-params">|1[0-2])-(?:0[1-9]|</span><span class="hljs-number">1</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]<span class="hljs-params">|2[0-8])|</span>(?:<span class="hljs-number">0</span>[<span class="hljs-number">13</span>-<span class="hljs-number">9</span>]<span class="hljs-params">|1[0-2])-(?:29|</span><span class="hljs-number">30</span>)<span class="hljs-params">|(?:0[13578]|</span><span class="hljs-number">1</span>[<span class="hljs-number">02</span>])-<span class="hljs-number">31</span>)<span class="hljs-params">|(?:[0-9]{2}(?:0[48]|</span>[<span class="hljs-number">2468</span>][<span class="hljs-number">04</span>8]<span class="hljs-params">|[13579][26])|</span>(?:<span class="hljs-number">0</span>[<span class="hljs-number">48</span>]<span class="hljs-params">|[2468][048]|</span>[<span class="hljs-number">13579</span>][<span class="hljs-number">26</span>])<span class="hljs-number">00</span>)-<span class="hljs-number">02</span>-<span class="hljs-number">29</span>)$
</code></pre> <h4><strong>7. 校验金额</strong></h4> <p>金额校验，精确到2位小数。</p> <pre class="hljs ruby"><code class="ruby">^[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]+(.[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]{<span class="hljs-number">2</span>})?$
</code></pre> <h4><strong>8. 校验手机号</strong></h4> <p>下面是国内 13、15、18开头的手机号正则表达式。（可根据目前国内收集号扩展前两位开头号码）</p> <pre class="hljs ruby"><code class="ruby">^(<span class="hljs-number">13</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]<span class="hljs-params">|14[5|</span><span class="hljs-number">7</span>]<span class="hljs-params">|15[0|</span><span class="hljs-number">1</span><span class="hljs-params">|2|</span><span class="hljs-number">3</span><span class="hljs-params">|5|</span><span class="hljs-number">6</span><span class="hljs-params">|7|</span><span class="hljs-number">8</span><span class="hljs-params">|9]|</span><span class="hljs-number">18</span>[<span class="hljs-number">0</span><span class="hljs-params">|1|</span><span class="hljs-number">2</span><span class="hljs-params">|3|</span><span class="hljs-number">5</span><span class="hljs-params">|6|</span><span class="hljs-number">7</span><span class="hljs-params">|8|</span><span class="hljs-number">9</span>])\\d{<span class="hljs-number">8</span>}$
</code></pre> <h4><strong>9. 判断IE的版本</strong></h4> <p>IE目前还没被完全取代，很多页面还是需要做版本兼容，下面是IE版本检查的表达式。</p> <pre class="hljs ruby"><code class="ruby">^.*MSIE [<span class="hljs-number">5</span>-<span class="hljs-number">8</span>](?<span class="hljs-symbol">:</span>\\.[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]+)?(?!.*Trident\\/[<span class="hljs-number">5</span>-<span class="hljs-number">9</span>]\\.<span class="hljs-number">0</span>).*$
</code></pre> <h4><strong>10. 校验IP-v4地址</strong></h4> <p>IP4 正则语句。</p> <pre class="hljs ruby"><code class="ruby">\\b(?<span class="hljs-symbol">:</span>(?:<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>]<span class="hljs-params">|2[0-4][0-9]|</span>[<span class="hljs-number">01</span>]?[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]?)\\.){<span class="hljs-number">3</span>}(?:<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>]<span class="hljs-params">|2[0-4][0-9]|</span>[<span class="hljs-number">01</span>]?[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>][<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]?)\\b
</code></pre> <h4><strong>11. 校验IP-v6地址</strong></h4> <p>IP6 正则语句。</p> <pre class="hljs ruby"><code class="ruby">(([<span class="hljs-number">0</span>-<span class="hljs-number">9</span>a-fA-F]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}<span class="hljs-symbol">:</span>){<span class="hljs-number">7</span>,<span class="hljs-number">7</span>}[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>a-fA-F]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}<span class="hljs-params">|([0-9a-fA-F]{1,4}:){1,7}:|</span>([<span class="hljs-number">0</span>-<span class="hljs-number">9</span>a-fA-F]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}<span class="hljs-symbol">:</span>){<span class="hljs-number">1</span>,<span class="hljs-number">6</span>}<span class="hljs-symbol">:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>a-fA-F]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}<span class="hljs-params">|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|</span>([<span class="hljs-number">0</span>-<span class="hljs-number">9</span>a-fA-F]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}<span class="hljs-symbol">:</span>){<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}(<span class="hljs-symbol">:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>a-fA-F]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}){<span class="hljs-number">1</span>,<span class="hljs-number">3</span>}<span class="hljs-params">|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|</span>([<span class="hljs-number">0</span>-<span class="hljs-number">9</span>a-fA-F]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}<span class="hljs-symbol">:</span>){<span class="hljs-number">1</span>,<span class="hljs-number">2</span>}(<span class="hljs-symbol">:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>a-fA-F]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}){<span class="hljs-number">1</span>,<span class="hljs-number">5</span>}<span class="hljs-params">|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|</span><span class="hljs-symbol">:</span>((<span class="hljs-symbol">:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>a-fA-F]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}){<span class="hljs-number">1</span>,<span class="hljs-number">7</span>}<span class="hljs-params">|:)|</span><span class="hljs-symbol">fe80:</span>(<span class="hljs-symbol">:</span>[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>a-fA-F]{<span class="hljs-number">0</span>,<span class="hljs-number">4</span>}){<span class="hljs-number">0</span>,<span class="hljs-number">4</span>}<span class="hljs-string">%[0-9a-zA-Z]</span>{<span class="hljs-number">1</span>,}<span class="hljs-params">|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|</span>(<span class="hljs-number">2</span>[<span class="hljs-number">0</span>-<span class="hljs-number">4</span>]<span class="hljs-params">|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|</span>(<span class="hljs-number">2</span>[<span class="hljs-number">0</span>-<span class="hljs-number">4</span>]<span class="hljs-params">|1{0,1}[0-9]){0,1}[0-9])|</span>([<span class="hljs-number">0</span>-<span class="hljs-number">9</span>a-fA-F]{<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}<span class="hljs-symbol">:</span>){<span class="hljs-number">1</span>,<span class="hljs-number">4</span>}<span class="hljs-symbol">:</span>((<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>]<span class="hljs-params">|(2[0-4]|</span><span class="hljs-number">1</span>{<span class="hljs-number">0</span>,<span class="hljs-number">1</span>}[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]){<span class="hljs-number">0</span>,<span class="hljs-number">1</span>}[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>])\\.){<span class="hljs-number">3</span>,<span class="hljs-number">3</span>}(<span class="hljs-number">25</span>[<span class="hljs-number">0</span>-<span class="hljs-number">5</span>]<span class="hljs-params">|(2[0-4]|</span><span class="hljs-number">1</span>{<span class="hljs-number">0</span>,<span class="hljs-number">1</span>}[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]){<span class="hljs-number">0</span>,<span class="hljs-number">1</span>}[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]))
</code></pre> <h4><strong>12. 检查URL的前缀</strong></h4> <p>应用开发中很多时候需要区分请求是HTTPS还是HTTP，通过下面的表达式可以取出一个url的前缀然后再逻辑判断。</p> <pre class="hljs javascript"><code class="javascript"><span class="hljs-keyword">if</span> (!s.match(<span class="hljs-regexp">/^[a-zA-Z]+:\\/</span>\\<span class="hljs-comment">//))</span>
{
    s = <span class="hljs-string">'http://'</span> + s;
}
</code></pre> <h4><strong>13. 提取URL链接</strong></h4> <p>下面的这个表达式可以筛选出一段文本中的URL。</p> <pre class="hljs ruby"><code class="ruby">^(f<span class="hljs-params">|ht){1}(tp|</span>tps)<span class="hljs-symbol">:</span>\\/\\/([\\w-]+\\.)+[\\w-]+(\\/[\\w- ./?%&amp;=]*)?
</code></pre> <h4><strong>14. 文件路径及扩展名校验</strong></h4> <p>验证windows下文件路径和扩展名（下面的例子中为.txt文件）</p> <pre class="hljs ruby"><code class="ruby">^([a-zA-Z]\\<span class="hljs-symbol">:|</span>\\\\)\\\\([^\\\\]+\\\\)*[^\\/<span class="hljs-symbol">:*</span>?<span class="hljs-string">&quot;&lt;&gt;|]+\\.txt(l)?$
</span></code></pre> <h4><strong>15. 提取Color Hex  Codes</strong></h4> <p>有时需要抽取网页中的颜色代码，可以使用下面的表达式。</p> <pre class="hljs bash"><code class="bash">^<span class="hljs-comment">#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$</span>
</code></pre> <h4><strong>16. 提取网页图片</strong></h4> <p>假若你想提取网页中所有图片信息，可以利用下面的表达式。</p> <pre class="hljs bash"><code class="bash">\\&lt; *[img][^\\\\&gt;]*[src] *= *[\\<span class="hljs-string">&quot;\\']{0,1}([^\\&quot;</span>\\<span class="hljs-string">'\\ &gt;]*)
</span></code></pre> <h4><strong>17. 提取页面超链接</strong></h4> <p>提取html中的超链接。</p> <pre class="hljs bash"><code class="bash">(&lt;a\\s*(?!.*\\brel=)[^&gt;]*)(href=<span class="hljs-string">&quot;https?:\\/\\/)((?!(?:(?:www\\.)?'.implode('|(?:www\\.)?', <span class="hljs-variable">$follow_list</span>).'))[^&quot;</span>]+)<span class="hljs-string">&quot;((?!.*\\brel=)[^&gt;]*)(?:[^&gt;]*)&gt;
</span></code></pre> <h4><strong>18. 查找CSS属性</strong></h4> <p>通过下面的表达式，可以搜索到相匹配的CSS属性。</p> <pre class="hljs bash"><code class="bash">^\\s*[a-zA-Z\\-]+\\s*[:]{1}\\s[a-zA-Z0-9\\s.<span class="hljs-comment">#]+[;]{1}</span>
</code></pre> <h4><strong>19. 抽取注释</strong></h4> <p>如果你需要移除HMTL中的注释，可以使用如下的表达式。</p> <pre class="hljs xml"><code class="xml"><span class="hljs-comment">&lt;!--(.*?)--&gt;</span>
</code></pre> <h4><strong>20. 匹配HTML标签</strong></h4> <p>通过下面的表达式可以匹配出HTML中的标签属性。</p> <pre class="hljs ruby"><code class="ruby">&lt;\\/?\\w+((\\s+\\w+(\\s*=\\s*(?<span class="hljs-symbol">:<span class="hljs-string">&quot;.*?&quot;</span>|<span class="hljs-string">'.*?'</span>|</span>[\\^<span class="hljs-string">'&quot;&gt;\\s]+))?)+\\s*|\\s*)\\/?&gt;
</span></code></pre> <hr> <h4 id="_21-脱敏处理"><a href="#_21-脱敏处理" aria-hidden="true" class="header-anchor">#</a> 21.脱敏处理</h4> <div class="language-js extra-class"><pre class="language-js"><code>
filters<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">//脱敏处理</span>
    <span class="token function">encrypt</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> value<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/(\d{3})\d*(\d{4})/</span><span class="token punctuation">,</span> <span class="token string">&quot;$1********$2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  
</code></pre></div><h4 id="_22-地址解析"><a href="#_22-地址解析" aria-hidden="true" class="header-anchor">#</a> 22.地址解析</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * 解析一个url并生成window.location对象中包含的域
 * location:
 * {
 *      href: '包含完整的url',
 *      origin: '包含协议到pathname之前的内容',
 *      protocol: 'url使用的协议，包含末尾的:',
 *      username: '用户名', // 暂时不支持
 *      password: '密码',  // 暂时不支持
 *      host: '完整主机名，包含:和端口',
 *      hostname: '主机名，不包含端口'
 *      port: '端口号',
 *      pathname: '服务器上访问资源的路径/开头',
 *      search: 'query string，?开头',
 *      hash: '#开头的fragment identifier'
 * }
 *
 * @param {string} url 需要解析的url
 * @return {Object} 包含url信息的对象
 */</span>
 
 <span class="token keyword">function</span> <span class="token function">parseUrl</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> url <span class="token operator">=</span> url <span class="token operator">||</span> location<span class="token punctuation">.</span>href<span class="token punctuation">;</span>
    <span class="token keyword">var</span> keys <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'href'</span><span class="token punctuation">,</span> <span class="token string">'origin'</span><span class="token punctuation">,</span> <span class="token string">'protocol'</span><span class="token punctuation">,</span> <span class="token string">'host'</span><span class="token punctuation">,</span>
                <span class="token string">'hostname'</span><span class="token punctuation">,</span> <span class="token string">'port'</span><span class="token punctuation">,</span> <span class="token string">'pathname'</span><span class="token punctuation">,</span> <span class="token string">'search'</span><span class="token punctuation">,</span> <span class="token string">'hash'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> i<span class="token punctuation">,</span> len<span class="token punctuation">;</span>
    <span class="token keyword">var</span> regexp <span class="token operator">=</span> <span class="token regex">/(([^:]+:)\/\/(([^:\/\?#]+)(:\d+)?))(\/[^?#]*)?(\?[^#]*)?(#.*)?/</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> match <span class="token operator">=</span> regexp<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
	 console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'match='</span><span class="token punctuation">,</span> match<span class="token punctuation">)</span><span class="token punctuation">;</span>
	 
    <span class="token keyword">if</span> <span class="token punctuation">(</span>match<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> keys<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token operator">--</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            result<span class="token punctuation">[</span>keys<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> match<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">?</span> match<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
	 console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'result='</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="允许多位数-15-17-18-20位，字母-数字"><a href="#允许多位数-15-17-18-20位，字母-数字" aria-hidden="true" class="header-anchor">#</a> 允许多位数 15|17|18|20位，字母+数字</h2> <div class="language- extra-class"><pre class="language-text"><code>/^(^[\da-zA-Z]{15}$)|(^[\da-zA-Z]{17}$)|(^[\da-zA-Z]{18}$)|(^[\da-zA-Z]{20}$)$/
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">9/30/2019, 1:39:43 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/yjm.github.io/notes/window/HTTP/" class="prev">HTTP协议</a></span> <span class="next"><a href="/yjm.github.io/notes/GIT/">git 三种工作流程</a>→
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/yjm.github.io/assets/js/app.16d43aae.js" defer></script><script src="/yjm.github.io/assets/js/2.dc0e93a8.js" defer></script><script src="/yjm.github.io/assets/js/27.b18b740d.js" defer></script>
  </body>
</html>
